# 群组概述

<Toc />

## 功能描述

群组是支持多人沟通的即时通讯系统，成员关系相对稳定。所有群成员可以收到群中的消息，可以在群中发送消息。群成员离线时可以收到推送消息。群组成员支持多种角色：群主、群管理员和普通成员。群组提供丰富的管理能力，如群组禁言、群公告和群文件等。

如需查看消息相关内容，参见 <Link title="消息管理" to="message_overview.html" />。

群组支持两种加入授权方式：

- 需要群主授权加入；
- 不需要群主授权即可加入。

### 群组与聊天室的区别

群组和聊天室均为支持多人沟通的即时通讯系统。两者的区别在于，群组中的成员会有固定的强的关系，成员加入后会长时间在群组中。聊天室中的成员没有固定关系，类似于一个开放的空间，大家可以自由加入，离开即退出聊天室。以下为功能对比：

| 功能<div style="width: 100px;"></div> | 群组<div style="width: 300px;"></div> | 聊天室 |
| :----------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 使用场景     | 类似于 Signal，Skype 里的群聊，所有加入的用户拥有固定的关系。  | 类似 Twitch 的直播间，成员间没有固定关系，离开即退出。     |
| 创建方式 | 所有 app 用户都可以创建群组。   | 仅 [超级管理员](/document/server-side/chatroom.html#管理超级管理员) 有权限创建聊天室。  |
| 类型 | 分为公开群和私有群，创建群组时可设置入群是否需获得群主和群管理员的同意，支持不同使用场景。 | 没有公开和私有之分，所有用户均可自由加入或退出。      |
| 最大成员数   | 成员数支持取决于所选择的版本，最高版本支持 8,000 人。        | 成员数支持取决于所选择的版本，最高版本支持 10,000 人。如需提升该上限，请联系商务。 |
| 离线消息存储 | 支持离线消息存储。用户离线时，服务器会先保存发送给这些用户的消息，等待这些用户上线时发送。对于单个终端用户来说，服务器最多可保存 200 条离线消息。  | 不支持离线消息存储。离线时，不会收到推送消息；成员（除聊天室白名单中的成员）离线超过 2 分钟会自动退出聊天室。        |
| 漫游消息/历史消息记录存储 | 支持漫游消息存储。服务器存储漫游消息和历史消息记录的时间取决于你订阅的 IM 套餐包，详见[产品价格](/product/pricing.html#套餐包功能详情)。你可以[调用 REST API 接口从服务端获取历史消息记录 JSON 文件](/server-side/message_historical.html#获取历史消息记录)。此外，你还可以[调用客户端接口从服务端获取指定会话的漫游消息](message_retrieve.html#从服务器获取指定会话的消息)，在多设备间同步。 | 不支持漫游消息存储，支持历史消息记录存储。你可以[调用 REST API 接口从服务端获取历史消息记录 JSON 文件](/server-side/message_historical.html#获取历史消息记录)，但无法调用客户端接口获取指定会话的漫游消息。服务器存储历史消息记录的时间取决于你订阅的 IM 套餐包，详见[产品价格](/product/pricing.html#套餐包功能详情)。<br/>如果需要用户新加入聊天室时服务器推送最近的漫游消息，可以联系商务开通，每个会话默认支持 10 条消息，最多可调整至 200 条。 |
| 消息可靠性   | 群组中发送的所有消息，用户都会收到。        | 当消息量大时，聊天室中超过阈值的消息会被丢弃。消息开始丢弃的阈值为每秒 100 条消息，可以根据需求进行调整。 |

### 群组成员角色

| 群成员角色<div style="width: 100px;"></div> | 描述<div style="width: 384px;"></div> | 管理权限 |
| :--------- | :------------------------------------------------- | :----------------------------------------------------------- |
| 普通成员   | 不具备管理权限的普通成员。                         | 普通成员可以收发消息，查看群组描述信息。                           |
| 群管理员   | 由群主指定，协助群主进行管理，拥有一定的管理权限。 | 管理员可以更改群组名称和描述信息、对群成员进行管理。                     |
| 群主       | 群组的创建者，在群中拥有最高权限。                 | 群主可以指定管理员、解散群组、将群主权限转移给他人、更改群组名称和描述信息和对群成员进行管理。 |

### 群组分类

- 群组按照是否对用户公开，可以分为公开群和私有群。

| 群组分类 | 加群方式   |  获取群组信息       |
| :------- | :---------- | :---------- | 
| 公开群   | 任何用户可以搜索到该群，可申请加入群或者被管理员和群主邀请入群。任何用户均可申请入群，是否需要群主和群管理员审批，取决于群组的设置，例如 Android 为 `EMGroupStyle` 参数。 | - 对于群组详情和公开群列表，用户即使不加入群也能获取。<br/> - 对于群公告和群共享文件列表，用户只有加入群时才能获取。 |
| 私有群   | 群外用户不能搜索到此类群组，需要被邀请才能入群。除了群主和群管理员，群成员是否也能邀请其他用户进群取决于群组的设置，例如 Android 为 `EMGroupStyle` 参数。 | 用户只有加入群后才能获取群详情、群公告、群共享文件列表、和群成员列表等群组信息。   |

- 群组按照规模，可以分为普通群和大型群：
  - 普通群：群成员总数不超过 3000 人。
  - 大型群：群成员总数超过 3000 人。大型群不支持离线推送。如需默认创建大型群，请联系环信商务。

### 群组功能

群组功能主要分为群组的建立和管理，群成员管理，以及群属性管理。

#### 创建和管理群组

| 功能               | 描述                                                         |
| :----------------- | :----------------------------------------------------------- |
| 创建群组           | 群组分为公开群和私有群，可以对加群的方式进行设置。任何用户都可以创建群组。群组创建者为群组。群组数量和群成员数量根据套餐版本有所不同。详见 [环信即时通讯 IM 价格](https://www.easemob.com/pricing/im)。 |
| 解散群组           | 只有群主才能解散群组。群组一旦解散，所有本地群组数据都会被删除，所有群成员都被强制退出群。 |
| 获取群成员列表     | 所有群组用户都可以从服务器获取群组成员的分页列表。成员按加入群组时的时间戳降序显示。 |
| 获取群组列表       | 用户可以获取公开群列表和自己创建或加入的群组列表。 |
| 屏蔽和解除群消息   | 所有群组成员都可以屏蔽和取消屏蔽群组消息。用户屏蔽群组消息后，他们将不再收到来自指定群组的消息。 |
| 监听群组事件       | 你可以监听群组事件，例如用户何时加入和离开群组，并根据需要添加应用逻辑。 |

#### 群成员管理

| 功能                   | 描述                                                         |
| :--------------------- | :----------------------------------------------------------- |
| 加入群组              | 公开群和私有群中，群主和管理员均可以邀请用户加入群。<br/>支持需要用户确认后，再加入群。 此外用户也可以申请加入公开群。|
| 退出群组              | 群主不支持退群操作，只能解散群。退出群组分为主动退群和被动退群。被动退群即为被群主和群管理员踢出群。         |
| 变更群主               | 群主可以将群组的所有权转让给指定的组成员。所有权转移后，群主成为普通群成员。 |
| 添加和移除群管理员 | 群主可以添加成员到群组管理员列表，也可以将管理员移出该列表。管理员列表中的成员获得所有的群管理员权限。 |
| 群组白名单             | 群主和管理员可以将群成员加入或移出白名单。白名单中的群成员可以在全员禁言状态下发送群消息。 |
| 群组黑名单             | 群主和群管理员可以将群成员加入或移出黑名单，黑名单中的成员将被移出群且无法再次加入群。 |
| 群组禁言               | <ul><li>群主和管理员可以将群成员加入或移出禁言列表，禁言列表中的成员无法发送群消息，但可以接收群消息。</li><li>群主和管理员可以开启或关闭全员禁言，开启全员禁言后，仅群组、管理员和白名单中的成员可以发送群消息。</li></ul> |

#### 群属性管理

| 功能             | 描述                                                         |
| :--------------- | :----------------------------------------------------------- |
| 修改群名称和描述 | 群主和群管理员可以修改群名称和群组描述。                     |
| 管理群公告           | 群主和群管理员可以设置和更新群公告，群成员可以获取群公告。   |
| 管理共享文件         | 群主和群管理员可以上传文件并删除所有群共享文件，群成员只能删除自己上传的文件。 |
| 更新群扩展字段   | 群主和群管理员可以修改群组的扩展字段。你可以通过群扩展字段设置 JSON 格式的数据，添加群组扩展信息。群扩展字段的长度限制为 8 KB。 |

### 群组人数限制

群成员的数量根据不同的套餐版本而不同，详见[产品价格](/product/pricing.html#套餐包功能详情)。
