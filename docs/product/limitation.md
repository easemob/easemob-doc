# 限制条件

<Toc />

本文简要介绍环信即时通讯 IM 的使用限制条件，包括调用频率、字符串大小和编码格式等。

## 用户注册

- 用户 ID：长度不能超过 64 字节，支持以下字符集：
    - 26 个小写英文字母 a-z；
    - 26 个大写英文字母 A-Z；
    - 10 个数字 0-9；
    - “_”, “-”, “.”。

:::notice
- 该参数不区分大小写，因此 Aa 和 aa 为相同用户名；
- 请确保同一个 app 下，用户 ID 唯一；
- 用户 ID 是会公开的信息，请勿使用 UUID、邮箱地址、手机号等敏感信息。
:::
- 批量注册每次最多 60 个用户 ID。

## 群组限制

不同套餐版本支持的群组总数、群成员总数和用户可加入的群组数，详见[套餐包功能详情](pricing.html#套餐包功能详情)。

群组属性和群成员属性的限制如下：
- 群组名称，字符串类型，最大长度为 128 字符。
- 群组描述，字符串类型，最大长度为 512 字符。
- 群组扩展信息，例如可以给群组添加业务相关的标记，最大长度为 1,024 字符。
- 单个群成员的自定义属性（key-value）总长度不能超过 4 KB。对于单个自定义属性，属性 key 不能超过 16 字节，value 不能超过 512 个字节。

群组共享文件的限制如下：
- 单个群组共享文件大小上限默认 10 MB。如果需要提升限制，请联系商务。
  该限制与消息附件的相同。如果消息附件的长度进行了上调，群组共享文件大小也会随之自动调整，反之亦然。
- 单个群组最多上传 10,000 个共享文件。
- 群组共享文件在服务器的存储时间与消息附件相同，即默认为 7 天。如果需要提升限制，请联系商务。
  如果消息附件在服务器上的存储时间进行了上调，群组共享文件的存储时间也会随之自动调整，反之亦然。

## 聊天室限制

不同套餐版本支持的聊天室总数，详见[套餐包功能详情](pricing.html#套餐包功能详情)。

### 聊天室基本属性

- 聊天室名称，字符串类型，最大长度为 128 字符。
- 聊天室描述，字符串类型，最大长度为 512 字符。
- 聊天室公告，字符串类型，最大长度为 512 字符。

### 聊天室自定义属性（key-value）

每个聊天室最多可有 100 个自定义属性，每个应用的聊天室自定义属性总大小不超过 10 GB。

聊天室自定义属性为键值对（key-value）结构，单个 key 不能超过 128 个字符，支持以下字符集：
- 26 个小写英文字母 a-z；
- 26 个大写英文字母 A-Z；
- 10 个数字 0-9；
- “_”, “-”, “.”。

每个聊天室属性 value 不能超过 4096 个字符。

## 调用频率限制

[Rest API 调用频率限制](limitationapi.html)。

## 消息大小限制

对于不同的消息类型，消息长度限制如下：

| 消息类型       | 消息长度限制                         |
| :------------- | :----------------------------------- |
| 文本消息       | 5 KB                                 |
| 图片消息       | 图片不能超过 10 MB，图片消息大小限制为 5 KB。      |
| 语音消息       | 音频文件不能超过 10 MB，语音消息大小限制为 5 KB。    |
| 视频消息       | 视频文件不能超过 10 MB，视频消息大小限制为 5 KB。      |
| 文件消息       | 附件大小不能超过 10 MB，文件消息大小限制为 5 KB。          |
| 透传消息       | 5 KB                                 |
| 自定义消息     | 5 KB                                 |

## 用户属性大小限制

默认单一用户的属性总长不得超过 2 KB。默认一个 app 下所有用户的属性总长度不得超过 10 GB。

## 消息撤回

默认撤回时限为 2 分钟，可根据 App Key 在环信即时通讯云管理后台单独设置。
